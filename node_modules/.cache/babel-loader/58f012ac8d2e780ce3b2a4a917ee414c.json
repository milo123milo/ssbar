{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n\n/**\n  * villus v1.0.1\n  * (c) 2021 Abdelrahman Awad\n  * @license MIT\n  */\nimport { getCurrentInstance, inject, isRef, isReactive, toRefs, provide, defineComponent, h, ref, watch, onMounted, unref, toRef, onBeforeUnmount } from 'vue';\nimport { GraphQLError, print } from 'graphql';\n\nfunction toWatchableSource(value) {\n  if (isRef(value)) {\n    return value;\n  }\n\n  if (isReactive(value)) {\n    const refs = toRefs(value);\n    return Object.keys(refs).map(refKey => refs[refKey]);\n  }\n\n  throw new Error('value is not reactive');\n} // Uses same component provide as its own injections\n// Due to changes in https://github.com/vuejs/vue-next/pull/2424\n\n\nfunction injectWithSelf(symbol, onMissing) {\n  var _a;\n\n  const vm = getCurrentInstance();\n  const injection = inject(symbol, (_a = vm === null || vm === void 0 ? void 0 : vm.provides) === null || _a === void 0 ? void 0 : _a[symbol]);\n\n  if (injection === null || injection === undefined) {\n    throw onMissing();\n  }\n\n  return injection;\n} // https://github.com/FormidableLabs/urql/blob/master/src/utils/error.ts\n\n\nconst generateErrorMessage = (networkError, graphqlErrors) => {\n  let error = '';\n\n  if (networkError !== undefined) {\n    return error = `[Network] ${networkError.message}`;\n  }\n\n  if (graphqlErrors !== undefined) {\n    graphqlErrors.forEach(err => {\n      error += `[GraphQL] ${err.message}\\n`;\n    });\n  }\n\n  return error.trim();\n};\n\nfunction normalizeGqlError(error) {\n  if (typeof error === 'string') {\n    return new GraphQLError(error);\n  }\n\n  if (typeof error === 'object' && error.message) {\n    return new GraphQLError(error.message, error.nodes, error.source, error.positions, error.path, error, error.extensions || {});\n  }\n\n  return error;\n}\n\nclass CombinedError extends Error {\n  constructor({\n    response,\n    networkError,\n    graphqlErrors\n  }) {\n    const gqlErrors = graphqlErrors === null || graphqlErrors === void 0 ? void 0 : graphqlErrors.map(normalizeGqlError);\n    const message = generateErrorMessage(networkError, gqlErrors);\n    super(message);\n    this.name = 'CombinedError';\n    this.response = response;\n    this.message = message;\n    this.networkError = networkError;\n    this.graphqlErrors = gqlErrors;\n  }\n\n  get isGraphQLError() {\n    return !!(this.graphqlErrors && this.graphqlErrors.length);\n  }\n\n  toString() {\n    return this.message;\n  }\n\n}\n\nvar fastJsonStableStringify = function (data, opts) {\n  if (!opts) opts = {};\n  if (typeof opts === 'function') opts = {\n    cmp: opts\n  };\n  var cycles = typeof opts.cycles === 'boolean' ? opts.cycles : false;\n\n  var cmp = opts.cmp && function (f) {\n    return function (node) {\n      return function (a, b) {\n        var aobj = {\n          key: a,\n          value: node[a]\n        };\n        var bobj = {\n          key: b,\n          value: node[b]\n        };\n        return f(aobj, bobj);\n      };\n    };\n  }(opts.cmp);\n\n  var seen = [];\n  return function stringify(node) {\n    if (node && node.toJSON && typeof node.toJSON === 'function') {\n      node = node.toJSON();\n    }\n\n    if (node === undefined) return;\n    if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n    if (typeof node !== 'object') return JSON.stringify(node);\n    var i, out;\n\n    if (Array.isArray(node)) {\n      out = '[';\n\n      for (i = 0; i < node.length; i++) {\n        if (i) out += ',';\n        out += stringify(node[i]) || 'null';\n      }\n\n      return out + ']';\n    }\n\n    if (node === null) return 'null';\n\n    if (seen.indexOf(node) !== -1) {\n      if (cycles) return JSON.stringify('__cycle__');\n      throw new TypeError('Converting circular structure to JSON');\n    }\n\n    var seenIndex = seen.push(node) - 1;\n    var keys = Object.keys(node).sort(cmp && cmp(node));\n    out = '';\n\n    for (i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      var value = stringify(node[key]);\n      if (!value) continue;\n      if (out) out += ',';\n      out += JSON.stringify(key) + ':' + value;\n    }\n\n    seen.splice(seenIndex, 1);\n    return '{' + out + '}';\n  }(data);\n};\n/**\r\n * Normalizes a query string or object to a string.\r\n */\n\n\nfunction normalizeQuery(query) {\n  if (typeof query === 'string') {\n    return query;\n  }\n\n  if (query && query.kind) {\n    return print(query);\n  }\n\n  return null;\n}\n\nasync function parseResponse(response) {\n  let json;\n  const responseData = {\n    ok: response.ok,\n    statusText: response.statusText,\n    status: response.status,\n    headers: response.headers\n  };\n\n  try {\n    json = await response.json();\n  } catch (err) {\n    return Object.assign(Object.assign({}, responseData), {\n      statusText: err.message,\n      body: null\n    });\n  }\n\n  return Object.assign(Object.assign({}, responseData), {\n    body: json\n  });\n}\n\nfunction resolveGlobalFetch() {\n  if (typeof window !== 'undefined' && 'fetch' in window && window.fetch) {\n    return window.fetch.bind(window);\n  }\n\n  if (typeof global !== 'undefined' && 'fetch' in global) {\n    return global.fetch;\n  }\n\n  return undefined;\n}\n\nconst DEFAULT_FETCH_OPTS = {\n  method: 'POST',\n  headers: {\n    'content-type': 'application/json'\n  }\n};\n\nfunction mergeFetchOpts(lhs, rhs) {\n  return Object.assign(Object.assign(Object.assign({}, lhs), rhs), {\n    method: rhs.method || lhs.method || DEFAULT_FETCH_OPTS.method,\n    headers: Object.assign(Object.assign({}, lhs.headers || {}), rhs.headers || {})\n  });\n}\n\nfunction makeFetchOptions({\n  query,\n  variables\n}, opts) {\n  const normalizedQuery = normalizeQuery(query);\n\n  if (!normalizedQuery) {\n    throw new Error('A query must be provided.');\n  }\n\n  return mergeFetchOpts({\n    body: JSON.stringify({\n      query: normalizedQuery,\n      variables\n    })\n  }, opts);\n}\n\nfunction hash(x) {\n  let h, i, l;\n\n  for (h = 5381 | 0, i = 0, l = x.length | 0; i < l; i++) {\n    h = (h << 5) + h + x.charCodeAt(i);\n  }\n\n  return h >>> 0;\n}\n\nfunction getQueryKey(operation, ...components) {\n  const variables = operation.variables ? fastJsonStableStringify(operation.variables) : '';\n  const query = normalizeQuery(operation.query);\n  return hash(`${query}${variables}${components.join('')}`);\n}\n\nfunction normalizeChildren(context, slotProps) {\n  if (!context.slots.default) {\n    return [];\n  }\n\n  return context.slots.default(slotProps) || [];\n}\n\nfunction cache() {\n  const resultCache = {};\n\n  function setCacheResult({\n    key\n  }, result) {\n    resultCache[key] = result;\n  }\n\n  function getCachedResult({\n    key\n  }) {\n    return resultCache[key];\n  }\n\n  return function cachePlugin({\n    afterQuery,\n    useResult,\n    operation\n  }) {\n    if (operation.type !== 'query' || operation.cachePolicy === 'network-only') {\n      return;\n    } // Set the cache result after query is resolved\n\n\n    afterQuery(result => {\n      setCacheResult(operation, result);\n    }); // Get cached item\n\n    const cachedResult = getCachedResult(operation);\n\n    if (operation.cachePolicy === 'cache-only') {\n      return useResult(cachedResult || {\n        data: null,\n        error: null\n      }, true);\n    } // if exists in cache, terminate with result\n\n\n    if (cachedResult) {\n      return useResult(cachedResult, operation.cachePolicy === 'cache-first');\n    }\n  };\n}\n\nfunction fetch(opts) {\n  const fetch = (opts === null || opts === void 0 ? void 0 : opts.fetch) || resolveGlobalFetch();\n\n  if (!fetch) {\n    throw new Error('Could not resolve a fetch() method, you should provide one.');\n  }\n\n  return async function fetchPlugin(ctx) {\n    var _a, _b;\n\n    const {\n      useResult,\n      opContext,\n      operation\n    } = ctx;\n    const fetchOpts = makeFetchOptions(operation, opContext);\n    let response;\n\n    try {\n      response = await fetch(opContext.url, fetchOpts).then(parseResponse);\n    } catch (err) {\n      return useResult({\n        data: null,\n        error: new CombinedError({\n          response,\n          networkError: err\n        })\n      }, true);\n    } // Set the response on the context\n\n\n    ctx.response = response;\n    const data = (_a = response.body) === null || _a === void 0 ? void 0 : _a.data;\n\n    if (!response.ok || !response.body) {\n      // It is possible than a non-200 response is returned with errors, it should be treated as GraphQL error\n      const ctorOptions = {\n        response\n      };\n\n      if ((_b = response.body) === null || _b === void 0 ? void 0 : _b.errors) {\n        ctorOptions.graphqlErrors = response.body.errors;\n      } else {\n        ctorOptions.networkError = new Error(response.statusText);\n      }\n\n      return useResult({\n        data,\n        error: new CombinedError(ctorOptions)\n      }, true);\n    }\n\n    useResult({\n      data,\n      error: response.body.errors ? new CombinedError({\n        response: response,\n        graphqlErrors: response.body.errors\n      }) : null\n    }, true);\n  };\n}\n\nfunction dedup() {\n  // Holds references to pending operations\n  const pendingLookup = {};\n  return function dedupPlugin(ctx) {\n    // Don't dedup mutations or subscriptions\n    if (ctx.operation.type !== 'query') {\n      return;\n    } // extract the original useResult function\n\n\n    const {\n      useResult\n    } = ctx; // Clean up pending queries after they are resolved\n\n    ctx.afterQuery(() => {\n      delete pendingLookup[ctx.operation.key];\n    }); // If pending, re-route the result to it\n\n    if (pendingLookup[ctx.operation.key]) {\n      return pendingLookup[ctx.operation.key].then(result => {\n        useResult(result, true);\n      });\n    } // Hold a resolve fn reference\n\n\n    let resolveOp; // Create a pending operation promise and add it to lookup\n\n    pendingLookup[ctx.operation.key] = new Promise(resolve => {\n      resolveOp = resolve;\n    }); // resolve the promise once the result are set via another plugin\n\n    ctx.useResult = function (...args) {\n      useResult(...args);\n      resolveOp(args[0]);\n    };\n  };\n}\n\nconst VILLUS_CLIENT = Symbol('villus.client');\n\nconst defaultPlugins = () => [cache(), dedup(), fetch()];\n\nclass Client {\n  constructor(opts) {\n    this.install = () => undefined;\n\n    this.url = opts.url;\n    this.defaultCachePolicy = opts.cachePolicy || 'cache-first';\n    this.plugins = opts.use || [...defaultPlugins()];\n  }\n  /**\r\n   * Executes an operation and returns a normalized response.\r\n   */\n\n\n  async execute(operation, type, queryContext, onResultChanged) {\n    let result;\n    const opContext = Object.assign(Object.assign({\n      url: this.url\n    }, DEFAULT_FETCH_OPTS), {\n      headers: Object.assign(Object.assign({}, DEFAULT_FETCH_OPTS.headers), (queryContext === null || queryContext === void 0 ? void 0 : queryContext.headers) || {})\n    });\n    let terminateSignal = false;\n    const afterQuery = [];\n    const context = {\n      useResult(pluginResult, terminate) {\n        if (terminate) {\n          terminateSignal = true;\n        } // this means the `useResult` was called multiple times\n\n\n        if (result) {\n          onResultChanged === null || onResultChanged === void 0 ? void 0 : onResultChanged(pluginResult);\n        }\n\n        result = pluginResult;\n      },\n\n      afterQuery(cb) {\n        afterQuery.push(cb);\n      },\n\n      operation: Object.assign(Object.assign({}, operation), {\n        key: getQueryKey(operation),\n        type,\n        cachePolicy: ('cachePolicy' in operation ? operation.cachePolicy : this.defaultCachePolicy) || this.defaultCachePolicy\n      }),\n      opContext\n    };\n    let lastI = 0;\n\n    for (let i = 0; i < this.plugins.length; i++) {\n      const plugin = this.plugins[i];\n      await plugin(context);\n\n      if (result) {\n        lastI = i;\n        break;\n      }\n    }\n\n    return new Promise((resolve, reject) => {\n      if (!result) {\n        reject(new Error('Operation result was not set by any plugin, make sure you have default plugins configured or review documentation'));\n        return;\n      }\n\n      resolve(result);\n\n      (async () => {\n        if (!terminateSignal) {\n          for (let i = lastI + 1; i < this.plugins.length; i++) {\n            const plugin = this.plugins[i];\n            await plugin(context);\n          }\n        }\n\n        const afterQueryCtx = {\n          response: context.response\n        };\n\n        for (let i = 0; i < afterQuery.length; i++) {\n          const afterCb = afterQuery[i];\n          await afterCb(result, afterQueryCtx);\n        }\n      })();\n    });\n  }\n\n  async executeQuery(operation, queryContext, onResultChanged) {\n    return this.execute(operation, 'query', queryContext, onResultChanged);\n  }\n\n  async executeMutation(operation, queryContext) {\n    return this.execute(operation, 'mutation', queryContext);\n  }\n\n  async executeSubscription(operation) {\n    const result = await this.execute(operation, 'subscription');\n    return result;\n  }\n\n}\n\nfunction createClient(opts) {\n  const client = new Client(opts);\n\n  client.install = app => app.provide(VILLUS_CLIENT, client);\n\n  return client;\n}\n\nfunction useClient(opts) {\n  const client = createClient(opts);\n  provide(VILLUS_CLIENT, client);\n  return client;\n}\n\nconst Provider = defineComponent({\n  name: 'VillusClientProvider',\n  props: {\n    url: {\n      type: String,\n      required: true\n    },\n    cachePolicy: {\n      type: String,\n      default: ''\n    },\n    use: {\n      type: Array,\n      default: undefined\n    }\n  },\n\n  setup(props, ctx) {\n    useClient({\n      url: props.url,\n      cachePolicy: props.cachePolicy,\n      use: props.use\n    });\n    return () => {\n      return normalizeChildren(ctx, {});\n    };\n  }\n\n});\n\nfunction withProvider(component, clientOpts) {\n  return defineComponent({\n    name: 'VillusWithClientHoc',\n\n    setup(props, ctx) {\n      useClient(clientOpts);\n      return () => {\n        return h(component, Object.assign(Object.assign({}, props), ctx.attrs), ctx.slots);\n      };\n    }\n\n  });\n}\n\nfunction useQuery(opts) {\n  const client = injectWithSelf(VILLUS_CLIENT, () => {\n    return new Error('Cannot detect villus Client, did you forget to call `useClient`?');\n  });\n  let {\n    query,\n    variables,\n    cachePolicy,\n    fetchOnMount\n  } = normalizeOptions(opts);\n  const data = ref(null);\n  const isFetching = ref(fetchOnMount !== null && fetchOnMount !== void 0 ? fetchOnMount : false);\n  const isDone = ref(false);\n  const error = ref(null); // This is to prevent state mutation for racing requests, basically favoring the very last one\n\n  let lastPendingOperation;\n\n  function onResultChanged(result) {\n    data.value = result.data;\n    error.value = result.error;\n  }\n\n  async function execute(overrideOpts) {\n    isFetching.value = true;\n    const vars = (isRef(variables) ? variables.value : variables) || {};\n    const pendingExecution = client.executeQuery({\n      query: isRef(query) ? query.value : query,\n      variables: (overrideOpts === null || overrideOpts === void 0 ? void 0 : overrideOpts.variables) || vars,\n      cachePolicy: (overrideOpts === null || overrideOpts === void 0 ? void 0 : overrideOpts.cachePolicy) || cachePolicy\n    }, unref(opts === null || opts === void 0 ? void 0 : opts.context), onResultChanged);\n    lastPendingOperation = pendingExecution;\n    const res = await pendingExecution; // Avoid state mutation if the pendingExecution isn't the last pending operation\n\n    if (pendingExecution !== lastPendingOperation) {\n      // we still return this result to preserve the integrity of \"execute\" calls\n      return {\n        data: res.data,\n        error: res.error\n      };\n    }\n\n    onResultChanged(res);\n    isDone.value = true;\n    isFetching.value = false;\n    lastPendingOperation = undefined;\n    return {\n      data: data.value,\n      error: error.value\n    };\n  }\n\n  if (isRef(query)) {\n    watch(query, () => execute());\n  }\n\n  let stopVarsWatcher;\n  const isWatchingVariables = ref(true);\n\n  function beginWatchingVars() {\n    let oldCache;\n\n    if (!isRef(variables) && !isReactive(variables) || !variables) {\n      return;\n    }\n\n    const watchableVars = toWatchableSource(variables);\n    isWatchingVariables.value = true;\n    stopVarsWatcher = watch(watchableVars, newValue => {\n      const id = hash(fastJsonStableStringify(newValue)); // prevents duplicate queries.\n\n      if (id === oldCache) {\n        return;\n      }\n\n      oldCache = id;\n      execute();\n    }, {\n      deep: true\n    });\n  }\n\n  function unwatchVariables() {\n    if (!isWatchingVariables.value) return;\n    stopVarsWatcher();\n    isWatchingVariables.value = false;\n  }\n\n  function watchVariables() {\n    if (isWatchingVariables.value) return;\n    beginWatchingVars();\n  }\n\n  beginWatchingVars();\n  const api = {\n    data,\n    isFetching,\n    isDone,\n    error,\n    execute,\n    unwatchVariables,\n    watchVariables,\n    isWatchingVariables\n  };\n  onMounted(() => {\n    if (fetchOnMount) {\n      execute();\n    }\n  });\n  return Object.assign(Object.assign({}, api), {\n    async then(onFulfilled) {\n      fetchOnMount = false;\n      await api.execute();\n      return onFulfilled(api);\n    }\n\n  });\n}\n\nfunction normalizeOptions(opts) {\n  const defaultOpts = {\n    variables: {},\n    fetchOnMount: true\n  };\n  return Object.assign(Object.assign(Object.assign({}, defaultOpts), opts), {\n    query: opts.query\n  });\n}\n\nconst QueryImpl = defineComponent({\n  name: 'Query',\n  props: {\n    query: {\n      type: [String, Object],\n      required: true\n    },\n    variables: {\n      type: Object,\n      default: null\n    },\n    cachePolicy: {\n      type: String,\n      default: undefined\n    },\n    watchVariables: {\n      type: Boolean,\n      default: true\n    },\n    suspended: {\n      type: Boolean,\n      default: false\n    },\n    fetchOnMount: {\n      type: Boolean,\n      default: true\n    }\n  },\n\n  setup(props, ctx) {\n    function createRenderFn(api) {\n      const {\n        data,\n        error,\n        isFetching,\n        isDone,\n        execute,\n        watchVariables,\n        isWatchingVariables,\n        unwatchVariables\n      } = api;\n      watch(toRef(props, 'watchVariables'), value => {\n        if (value === isWatchingVariables.value) {\n          return;\n        }\n\n        if (value) {\n          watchVariables();\n          return;\n        }\n\n        unwatchVariables();\n      }, {\n        immediate: true\n      });\n      return () => {\n        const slotProps = {\n          data: data.value,\n          error: error.value,\n          isFetching: isFetching.value,\n          isDone: isDone.value,\n          execute\n        };\n        return normalizeChildren(ctx, slotProps);\n      };\n    }\n\n    const opts = {\n      query: toRef(props, 'query'),\n      variables: toRef(props, 'variables'),\n      fetchOnMount: props.fetchOnMount,\n      cachePolicy: props.cachePolicy\n    };\n\n    if (props.suspended) {\n      return useQuery(opts).then(createRenderFn);\n    }\n\n    return createRenderFn(useQuery(opts));\n  }\n\n});\nconst Query = QueryImpl;\n\nfunction useMutation(query, opts) {\n  const client = injectWithSelf(VILLUS_CLIENT, () => {\n    return new Error('Cannot detect villus Client, did you forget to call `useClient`?');\n  });\n  const data = ref(null);\n  const isFetching = ref(false);\n  const isDone = ref(false);\n  const error = ref(null); // This is to prevent state mutation for racing requests, basically favoring the very last one\n\n  let lastPendingOperation;\n\n  async function execute(variables) {\n    isFetching.value = true;\n    const vars = variables || {};\n    const pendingExecution = client.executeMutation({\n      query,\n      variables: vars // FIXME: fix this casting\n\n    }, unref(opts === null || opts === void 0 ? void 0 : opts.context));\n    lastPendingOperation = pendingExecution;\n    const res = await pendingExecution; // Avoid state mutation if the pendingExecution isn't the last pending operation\n\n    if (pendingExecution !== lastPendingOperation) {\n      // we still return this result to preserve the integrity of \"execute\" calls\n      return {\n        data: res.data,\n        error: res.error\n      };\n    }\n\n    data.value = res.data;\n    error.value = res.error;\n    isDone.value = true;\n    isFetching.value = false;\n    lastPendingOperation = undefined;\n    return {\n      data: data.value,\n      error: error.value\n    };\n  }\n\n  return {\n    data,\n    isFetching,\n    isDone,\n    error,\n    execute\n  };\n}\n\nconst MutationImpl = defineComponent({\n  name: 'Mutation',\n  props: {\n    query: {\n      type: [String, Object],\n      required: true\n    }\n  },\n\n  setup(props, ctx) {\n    const {\n      data,\n      isFetching,\n      isDone,\n      error,\n      execute\n    } = useMutation(props.query);\n    return () => {\n      return normalizeChildren(ctx, {\n        data: data.value,\n        isFetching: isFetching.value,\n        isDone: isDone.value,\n        error: error.value,\n        execute\n      });\n    };\n  }\n\n});\nconst Mutation = MutationImpl;\n\nconst defaultReducer = (_, val) => val.data;\n\nfunction useSubscription({\n  query,\n  variables,\n  paused\n}, reduce = defaultReducer) {\n  const client = injectWithSelf(VILLUS_CLIENT, () => {\n    return new Error('Cannot detect villus Client, did you forget to call `useClient`?');\n  });\n  const data = ref(reduce(null, {\n    data: null,\n    error: null\n  }));\n  const error = ref(null);\n  const isPaused = ref(paused || false);\n\n  function handleResponse(result) {\n    data.value = reduce(data.value, result);\n    error.value = result.error;\n  }\n\n  async function initObserver() {\n    isPaused.value = false;\n    const result = await client.executeSubscription({\n      query: unref(query),\n      variables: unref(variables)\n    });\n    return result.subscribe({\n      next(result) {\n        if (isPaused.value) {\n          return;\n        }\n\n        const response = transformResult(result);\n        handleResponse(response);\n      },\n\n      // eslint-disable-next-line\n      complete() {},\n\n      error(err) {\n        if (isPaused.value) {\n          return;\n        }\n\n        const response = {\n          data: null,\n          error: new CombinedError({\n            networkError: err,\n            response: null\n          })\n        };\n        return handleResponse(response);\n      }\n\n    });\n  }\n\n  let observer;\n\n  if (!paused) {\n    onMounted(async () => {\n      observer = await initObserver();\n    });\n  }\n\n  onBeforeUnmount(() => {\n    if (observer) {\n      observer.unsubscribe();\n    }\n  });\n\n  function pause() {\n    isPaused.value = true;\n  }\n\n  async function resume() {\n    if (!observer) {\n      reInit();\n    }\n\n    isPaused.value = false;\n  }\n\n  async function reInit() {\n    if (observer) {\n      observer.unsubscribe();\n    }\n\n    observer = await initObserver();\n  }\n\n  if (isRef(query)) {\n    watch(query, reInit);\n  }\n\n  if (isRef(variables)) {\n    watch(variables, reInit);\n  }\n\n  return {\n    data,\n    error,\n    isPaused,\n    pause,\n    resume\n  };\n}\n/**\r\n * Transforms the result from a standard operation result to villus result\r\n */\n\n\nfunction transformResult(result) {\n  if (!result.errors) {\n    return {\n      data: result.data || null,\n      error: null\n    };\n  }\n\n  return {\n    data: result.data || null,\n    error: new CombinedError({\n      graphqlErrors: [...result.errors],\n      response: null\n    })\n  };\n}\n\nconst SubscriptionImpl = defineComponent({\n  name: 'Subscription',\n  props: {\n    query: {\n      type: [String, Object],\n      required: true\n    },\n    variables: {\n      type: Object,\n      default: null\n    },\n    paused: {\n      type: Boolean,\n      default: false\n    },\n    reduce: {\n      type: Function,\n      default: undefined\n    }\n  },\n\n  setup(props, ctx) {\n    const {\n      data,\n      error,\n      pause,\n      isPaused,\n      resume\n    } = useSubscription({\n      query: props.query,\n      variables: props.variables,\n      paused: props.paused\n    }, props.reduce || defaultReducer);\n    watch(toRef(props, 'paused'), value => {\n      if (value === isPaused.value) {\n        return;\n      }\n\n      if (value) {\n        pause();\n        return;\n      }\n\n      resume();\n    });\n    return () => {\n      const slotProps = {\n        data: data.value,\n        error: error.value,\n        pause,\n        isPaused: isPaused.value,\n        resume\n      };\n      return normalizeChildren(ctx, slotProps);\n    };\n  }\n\n});\nconst Subscription = SubscriptionImpl;\n\nfunction handleSubscriptions(forwarder) {\n  const forward = forwarder;\n  return function subscriptionsHandlerPlugin({\n    operation,\n    useResult\n  }) {\n    if (operation.type !== 'subscription') {\n      return;\n    }\n\n    if (!forward) {\n      throw new Error('No subscription forwarder was set.');\n    }\n\n    useResult(forward(operation), true);\n  };\n}\n\nfunction definePlugin(fn) {\n  return fn;\n}\n\nexport { Client, CombinedError, Mutation, Provider, Query, Subscription, VILLUS_CLIENT, cache, createClient, dedup, defaultPlugins, definePlugin, fetch, getQueryKey, handleSubscriptions, useClient, useMutation, useQuery, useSubscription, withProvider };","map":{"version":3,"sources":["/Users/milo/Documents/Diverse/meteo ui/stbar2/node_modules/villus/dist/villus.esm.js"],"names":["getCurrentInstance","inject","isRef","isReactive","toRefs","provide","defineComponent","h","ref","watch","onMounted","unref","toRef","onBeforeUnmount","GraphQLError","print","toWatchableSource","value","refs","Object","keys","map","refKey","Error","injectWithSelf","symbol","onMissing","_a","vm","injection","provides","undefined","generateErrorMessage","networkError","graphqlErrors","error","message","forEach","err","trim","normalizeGqlError","nodes","source","positions","path","extensions","CombinedError","constructor","response","gqlErrors","name","isGraphQLError","length","toString","fastJsonStableStringify","data","opts","cmp","cycles","f","node","a","b","aobj","key","bobj","seen","stringify","toJSON","isFinite","JSON","i","out","Array","isArray","indexOf","TypeError","seenIndex","push","sort","splice","normalizeQuery","query","kind","parseResponse","json","responseData","ok","statusText","status","headers","assign","body","resolveGlobalFetch","window","fetch","bind","global","DEFAULT_FETCH_OPTS","method","mergeFetchOpts","lhs","rhs","makeFetchOptions","variables","normalizedQuery","hash","x","l","charCodeAt","getQueryKey","operation","components","join","normalizeChildren","context","slotProps","slots","default","cache","resultCache","setCacheResult","result","getCachedResult","cachePlugin","afterQuery","useResult","type","cachePolicy","cachedResult","fetchPlugin","ctx","_b","opContext","fetchOpts","url","then","ctorOptions","errors","dedup","pendingLookup","dedupPlugin","resolveOp","Promise","resolve","args","VILLUS_CLIENT","Symbol","defaultPlugins","Client","install","defaultCachePolicy","plugins","use","execute","queryContext","onResultChanged","terminateSignal","pluginResult","terminate","cb","lastI","plugin","reject","afterQueryCtx","afterCb","executeQuery","executeMutation","executeSubscription","createClient","client","app","useClient","Provider","props","String","required","setup","withProvider","component","clientOpts","attrs","useQuery","fetchOnMount","normalizeOptions","isFetching","isDone","lastPendingOperation","overrideOpts","vars","pendingExecution","res","stopVarsWatcher","isWatchingVariables","beginWatchingVars","oldCache","watchableVars","newValue","id","deep","unwatchVariables","watchVariables","api","onFulfilled","defaultOpts","QueryImpl","Boolean","suspended","createRenderFn","immediate","Query","useMutation","MutationImpl","Mutation","defaultReducer","_","val","useSubscription","paused","reduce","isPaused","handleResponse","initObserver","subscribe","next","transformResult","complete","observer","unsubscribe","pause","resume","reInit","SubscriptionImpl","Function","Subscription","handleSubscriptions","forwarder","forward","subscriptionsHandlerPlugin","definePlugin","fn"],"mappings":"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","sourcesContent":["/**\n  * villus v1.0.1\n  * (c) 2021 Abdelrahman Awad\n  * @license MIT\n  */\nimport { getCurrentInstance, inject, isRef, isReactive, toRefs, provide, defineComponent, h, ref, watch, onMounted, unref, toRef, onBeforeUnmount } from 'vue';\nimport { GraphQLError, print } from 'graphql';\n\nfunction toWatchableSource(value) {\r\n    if (isRef(value)) {\r\n        return value;\r\n    }\r\n    if (isReactive(value)) {\r\n        const refs = toRefs(value);\r\n        return Object.keys(refs).map(refKey => refs[refKey]);\r\n    }\r\n    throw new Error('value is not reactive');\r\n}\r\n// Uses same component provide as its own injections\r\n// Due to changes in https://github.com/vuejs/vue-next/pull/2424\r\nfunction injectWithSelf(symbol, onMissing) {\r\n    var _a;\r\n    const vm = getCurrentInstance();\r\n    const injection = inject(symbol, (_a = vm === null || vm === void 0 ? void 0 : vm.provides) === null || _a === void 0 ? void 0 : _a[symbol]);\r\n    if (injection === null || injection === undefined) {\r\n        throw onMissing();\r\n    }\r\n    return injection;\r\n}\n\n// https://github.com/FormidableLabs/urql/blob/master/src/utils/error.ts\r\nconst generateErrorMessage = (networkError, graphqlErrors) => {\r\n    let error = '';\r\n    if (networkError !== undefined) {\r\n        return (error = `[Network] ${networkError.message}`);\r\n    }\r\n    if (graphqlErrors !== undefined) {\r\n        graphqlErrors.forEach(err => {\r\n            error += `[GraphQL] ${err.message}\\n`;\r\n        });\r\n    }\r\n    return error.trim();\r\n};\r\nfunction normalizeGqlError(error) {\r\n    if (typeof error === 'string') {\r\n        return new GraphQLError(error);\r\n    }\r\n    if (typeof error === 'object' && error.message) {\r\n        return new GraphQLError(error.message, error.nodes, error.source, error.positions, error.path, error, error.extensions || {});\r\n    }\r\n    return error;\r\n}\r\nclass CombinedError extends Error {\r\n    constructor({ response, networkError, graphqlErrors, }) {\r\n        const gqlErrors = graphqlErrors === null || graphqlErrors === void 0 ? void 0 : graphqlErrors.map(normalizeGqlError);\r\n        const message = generateErrorMessage(networkError, gqlErrors);\r\n        super(message);\r\n        this.name = 'CombinedError';\r\n        this.response = response;\r\n        this.message = message;\r\n        this.networkError = networkError;\r\n        this.graphqlErrors = gqlErrors;\r\n    }\r\n    get isGraphQLError() {\r\n        return !!(this.graphqlErrors && this.graphqlErrors.length);\r\n    }\r\n    toString() {\r\n        return this.message;\r\n    }\r\n}\n\nvar fastJsonStableStringify = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n\n/**\r\n * Normalizes a query string or object to a string.\r\n */\r\nfunction normalizeQuery(query) {\r\n    if (typeof query === 'string') {\r\n        return query;\r\n    }\r\n    if (query && query.kind) {\r\n        return print(query);\r\n    }\r\n    return null;\r\n}\n\nasync function parseResponse(response) {\r\n    let json;\r\n    const responseData = {\r\n        ok: response.ok,\r\n        statusText: response.statusText,\r\n        status: response.status,\r\n        headers: response.headers,\r\n    };\r\n    try {\r\n        json = await response.json();\r\n    }\r\n    catch (err) {\r\n        return Object.assign(Object.assign({}, responseData), { statusText: err.message, body: null });\r\n    }\r\n    return Object.assign(Object.assign({}, responseData), { body: json });\r\n}\r\nfunction resolveGlobalFetch() {\r\n    if (typeof window !== 'undefined' && 'fetch' in window && window.fetch) {\r\n        return window.fetch.bind(window);\r\n    }\r\n    if (typeof global !== 'undefined' && 'fetch' in global) {\r\n        return global.fetch;\r\n    }\r\n    return undefined;\r\n}\r\nconst DEFAULT_FETCH_OPTS = {\r\n    method: 'POST',\r\n    headers: {\r\n        'content-type': 'application/json',\r\n    },\r\n};\r\nfunction mergeFetchOpts(lhs, rhs) {\r\n    return Object.assign(Object.assign(Object.assign({}, lhs), rhs), { method: rhs.method || lhs.method || DEFAULT_FETCH_OPTS.method, headers: Object.assign(Object.assign({}, (lhs.headers || {})), (rhs.headers || {})) });\r\n}\r\nfunction makeFetchOptions({ query, variables }, opts) {\r\n    const normalizedQuery = normalizeQuery(query);\r\n    if (!normalizedQuery) {\r\n        throw new Error('A query must be provided.');\r\n    }\r\n    return mergeFetchOpts({ body: JSON.stringify({ query: normalizedQuery, variables }) }, opts);\r\n}\n\nfunction hash(x) {\r\n    let h, i, l;\r\n    for (h = 5381 | 0, i = 0, l = x.length | 0; i < l; i++) {\r\n        h = (h << 5) + h + x.charCodeAt(i);\r\n    }\r\n    return h >>> 0;\r\n}\r\nfunction getQueryKey(operation, ...components) {\r\n    const variables = operation.variables ? fastJsonStableStringify(operation.variables) : '';\r\n    const query = normalizeQuery(operation.query);\r\n    return hash(`${query}${variables}${components.join('')}`);\r\n}\n\nfunction normalizeChildren(context, slotProps) {\r\n    if (!context.slots.default) {\r\n        return [];\r\n    }\r\n    return context.slots.default(slotProps) || [];\r\n}\n\nfunction cache() {\r\n    const resultCache = {};\r\n    function setCacheResult({ key }, result) {\r\n        resultCache[key] = result;\r\n    }\r\n    function getCachedResult({ key }) {\r\n        return resultCache[key];\r\n    }\r\n    return function cachePlugin({ afterQuery, useResult, operation }) {\r\n        if (operation.type !== 'query' || operation.cachePolicy === 'network-only') {\r\n            return;\r\n        }\r\n        // Set the cache result after query is resolved\r\n        afterQuery(result => {\r\n            setCacheResult(operation, result);\r\n        });\r\n        // Get cached item\r\n        const cachedResult = getCachedResult(operation);\r\n        if (operation.cachePolicy === 'cache-only') {\r\n            return useResult(cachedResult || { data: null, error: null }, true);\r\n        }\r\n        // if exists in cache, terminate with result\r\n        if (cachedResult) {\r\n            return useResult(cachedResult, operation.cachePolicy === 'cache-first');\r\n        }\r\n    };\r\n}\n\nfunction fetch(opts) {\r\n    const fetch = (opts === null || opts === void 0 ? void 0 : opts.fetch) || resolveGlobalFetch();\r\n    if (!fetch) {\r\n        throw new Error('Could not resolve a fetch() method, you should provide one.');\r\n    }\r\n    return async function fetchPlugin(ctx) {\r\n        var _a, _b;\r\n        const { useResult, opContext, operation } = ctx;\r\n        const fetchOpts = makeFetchOptions(operation, opContext);\r\n        let response;\r\n        try {\r\n            response = await fetch(opContext.url, fetchOpts).then(parseResponse);\r\n        }\r\n        catch (err) {\r\n            return useResult({\r\n                data: null,\r\n                error: new CombinedError({ response, networkError: err }),\r\n            }, true);\r\n        }\r\n        // Set the response on the context\r\n        ctx.response = response;\r\n        const data = (_a = response.body) === null || _a === void 0 ? void 0 : _a.data;\r\n        if (!response.ok || !response.body) {\r\n            // It is possible than a non-200 response is returned with errors, it should be treated as GraphQL error\r\n            const ctorOptions = {\r\n                response,\r\n            };\r\n            if ((_b = response.body) === null || _b === void 0 ? void 0 : _b.errors) {\r\n                ctorOptions.graphqlErrors = response.body.errors;\r\n            }\r\n            else {\r\n                ctorOptions.networkError = new Error(response.statusText);\r\n            }\r\n            return useResult({\r\n                data,\r\n                error: new CombinedError(ctorOptions),\r\n            }, true);\r\n        }\r\n        useResult({\r\n            data,\r\n            error: response.body.errors\r\n                ? new CombinedError({ response: response, graphqlErrors: response.body.errors })\r\n                : null,\r\n        }, true);\r\n    };\r\n}\n\nfunction dedup() {\r\n    // Holds references to pending operations\r\n    const pendingLookup = {};\r\n    return function dedupPlugin(ctx) {\r\n        // Don't dedup mutations or subscriptions\r\n        if (ctx.operation.type !== 'query') {\r\n            return;\r\n        }\r\n        // extract the original useResult function\r\n        const { useResult } = ctx;\r\n        // Clean up pending queries after they are resolved\r\n        ctx.afterQuery(() => {\r\n            delete pendingLookup[ctx.operation.key];\r\n        });\r\n        // If pending, re-route the result to it\r\n        if (pendingLookup[ctx.operation.key]) {\r\n            return pendingLookup[ctx.operation.key].then(result => {\r\n                useResult(result, true);\r\n            });\r\n        }\r\n        // Hold a resolve fn reference\r\n        let resolveOp;\r\n        // Create a pending operation promise and add it to lookup\r\n        pendingLookup[ctx.operation.key] = new Promise(resolve => {\r\n            resolveOp = resolve;\r\n        });\r\n        // resolve the promise once the result are set via another plugin\r\n        ctx.useResult = function (...args) {\r\n            useResult(...args);\r\n            resolveOp(args[0]);\r\n        };\r\n    };\r\n}\n\nconst VILLUS_CLIENT = Symbol('villus.client');\n\nconst defaultPlugins = () => [cache(), dedup(), fetch()];\r\nclass Client {\r\n    constructor(opts) {\r\n        this.install = () => undefined;\r\n        this.url = opts.url;\r\n        this.defaultCachePolicy = opts.cachePolicy || 'cache-first';\r\n        this.plugins = opts.use || [...defaultPlugins()];\r\n    }\r\n    /**\r\n     * Executes an operation and returns a normalized response.\r\n     */\r\n    async execute(operation, type, queryContext, onResultChanged) {\r\n        let result;\r\n        const opContext = Object.assign(Object.assign({ url: this.url }, DEFAULT_FETCH_OPTS), { headers: Object.assign(Object.assign({}, DEFAULT_FETCH_OPTS.headers), ((queryContext === null || queryContext === void 0 ? void 0 : queryContext.headers) || {})) });\r\n        let terminateSignal = false;\r\n        const afterQuery = [];\r\n        const context = {\r\n            useResult(pluginResult, terminate) {\r\n                if (terminate) {\r\n                    terminateSignal = true;\r\n                }\r\n                // this means the `useResult` was called multiple times\r\n                if (result) {\r\n                    onResultChanged === null || onResultChanged === void 0 ? void 0 : onResultChanged(pluginResult);\r\n                }\r\n                result = pluginResult;\r\n            },\r\n            afterQuery(cb) {\r\n                afterQuery.push(cb);\r\n            },\r\n            operation: Object.assign(Object.assign({}, operation), { key: getQueryKey(operation), type, cachePolicy: ('cachePolicy' in operation ? operation.cachePolicy : this.defaultCachePolicy) || this.defaultCachePolicy }),\r\n            opContext,\r\n        };\r\n        let lastI = 0;\r\n        for (let i = 0; i < this.plugins.length; i++) {\r\n            const plugin = this.plugins[i];\r\n            await plugin(context);\r\n            if (result) {\r\n                lastI = i;\r\n                break;\r\n            }\r\n        }\r\n        return new Promise((resolve, reject) => {\r\n            if (!result) {\r\n                reject(new Error('Operation result was not set by any plugin, make sure you have default plugins configured or review documentation'));\r\n                return;\r\n            }\r\n            resolve(result);\r\n            (async () => {\r\n                if (!terminateSignal) {\r\n                    for (let i = lastI + 1; i < this.plugins.length; i++) {\r\n                        const plugin = this.plugins[i];\r\n                        await plugin(context);\r\n                    }\r\n                }\r\n                const afterQueryCtx = { response: context.response };\r\n                for (let i = 0; i < afterQuery.length; i++) {\r\n                    const afterCb = afterQuery[i];\r\n                    await afterCb(result, afterQueryCtx);\r\n                }\r\n            })();\r\n        });\r\n    }\r\n    async executeQuery(operation, queryContext, onResultChanged) {\r\n        return this.execute(operation, 'query', queryContext, onResultChanged);\r\n    }\r\n    async executeMutation(operation, queryContext) {\r\n        return this.execute(operation, 'mutation', queryContext);\r\n    }\r\n    async executeSubscription(operation) {\r\n        const result = await this.execute(operation, 'subscription');\r\n        return result;\r\n    }\r\n}\r\nfunction createClient(opts) {\r\n    const client = new Client(opts);\r\n    client.install = (app) => app.provide(VILLUS_CLIENT, client);\r\n    return client;\r\n}\n\nfunction useClient(opts) {\r\n    const client = createClient(opts);\r\n    provide(VILLUS_CLIENT, client);\r\n    return client;\r\n}\n\nconst Provider = defineComponent({\r\n    name: 'VillusClientProvider',\r\n    props: {\r\n        url: {\r\n            type: String,\r\n            required: true,\r\n        },\r\n        cachePolicy: {\r\n            type: String,\r\n            default: '',\r\n        },\r\n        use: {\r\n            type: Array,\r\n            default: undefined,\r\n        },\r\n    },\r\n    setup(props, ctx) {\r\n        useClient({\r\n            url: props.url,\r\n            cachePolicy: props.cachePolicy,\r\n            use: props.use,\r\n        });\r\n        return () => {\r\n            return normalizeChildren(ctx, {});\r\n        };\r\n    },\r\n});\r\nfunction withProvider(component, clientOpts) {\r\n    return defineComponent({\r\n        name: 'VillusWithClientHoc',\r\n        setup(props, ctx) {\r\n            useClient(clientOpts);\r\n            return () => {\r\n                return h(component, Object.assign(Object.assign({}, props), ctx.attrs), ctx.slots);\r\n            };\r\n        },\r\n    });\r\n}\n\nfunction useQuery(opts) {\r\n    const client = injectWithSelf(VILLUS_CLIENT, () => {\r\n        return new Error('Cannot detect villus Client, did you forget to call `useClient`?');\r\n    });\r\n    let { query, variables, cachePolicy, fetchOnMount } = normalizeOptions(opts);\r\n    const data = ref(null);\r\n    const isFetching = ref(fetchOnMount !== null && fetchOnMount !== void 0 ? fetchOnMount : false);\r\n    const isDone = ref(false);\r\n    const error = ref(null);\r\n    // This is to prevent state mutation for racing requests, basically favoring the very last one\r\n    let lastPendingOperation;\r\n    function onResultChanged(result) {\r\n        data.value = result.data;\r\n        error.value = result.error;\r\n    }\r\n    async function execute(overrideOpts) {\r\n        isFetching.value = true;\r\n        const vars = (isRef(variables) ? variables.value : variables) || {};\r\n        const pendingExecution = client.executeQuery({\r\n            query: isRef(query) ? query.value : query,\r\n            variables: (overrideOpts === null || overrideOpts === void 0 ? void 0 : overrideOpts.variables) || vars,\r\n            cachePolicy: (overrideOpts === null || overrideOpts === void 0 ? void 0 : overrideOpts.cachePolicy) || cachePolicy,\r\n        }, unref(opts === null || opts === void 0 ? void 0 : opts.context), onResultChanged);\r\n        lastPendingOperation = pendingExecution;\r\n        const res = await pendingExecution;\r\n        // Avoid state mutation if the pendingExecution isn't the last pending operation\r\n        if (pendingExecution !== lastPendingOperation) {\r\n            // we still return this result to preserve the integrity of \"execute\" calls\r\n            return { data: res.data, error: res.error };\r\n        }\r\n        onResultChanged(res);\r\n        isDone.value = true;\r\n        isFetching.value = false;\r\n        lastPendingOperation = undefined;\r\n        return { data: data.value, error: error.value };\r\n    }\r\n    if (isRef(query)) {\r\n        watch(query, () => execute());\r\n    }\r\n    let stopVarsWatcher;\r\n    const isWatchingVariables = ref(true);\r\n    function beginWatchingVars() {\r\n        let oldCache;\r\n        if ((!isRef(variables) && !isReactive(variables)) || !variables) {\r\n            return;\r\n        }\r\n        const watchableVars = toWatchableSource(variables);\r\n        isWatchingVariables.value = true;\r\n        stopVarsWatcher = watch(watchableVars, newValue => {\r\n            const id = hash(fastJsonStableStringify(newValue));\r\n            // prevents duplicate queries.\r\n            if (id === oldCache) {\r\n                return;\r\n            }\r\n            oldCache = id;\r\n            execute();\r\n        }, { deep: true });\r\n    }\r\n    function unwatchVariables() {\r\n        if (!isWatchingVariables.value)\r\n            return;\r\n        stopVarsWatcher();\r\n        isWatchingVariables.value = false;\r\n    }\r\n    function watchVariables() {\r\n        if (isWatchingVariables.value)\r\n            return;\r\n        beginWatchingVars();\r\n    }\r\n    beginWatchingVars();\r\n    const api = { data, isFetching, isDone, error, execute, unwatchVariables, watchVariables, isWatchingVariables };\r\n    onMounted(() => {\r\n        if (fetchOnMount) {\r\n            execute();\r\n        }\r\n    });\r\n    return Object.assign(Object.assign({}, api), { async then(onFulfilled) {\r\n            fetchOnMount = false;\r\n            await api.execute();\r\n            return onFulfilled(api);\r\n        } });\r\n}\r\nfunction normalizeOptions(opts) {\r\n    const defaultOpts = {\r\n        variables: {},\r\n        fetchOnMount: true,\r\n    };\r\n    return Object.assign(Object.assign(Object.assign({}, defaultOpts), opts), { query: opts.query });\r\n}\n\nconst QueryImpl = defineComponent({\r\n    name: 'Query',\r\n    props: {\r\n        query: {\r\n            type: [String, Object],\r\n            required: true,\r\n        },\r\n        variables: {\r\n            type: Object,\r\n            default: null,\r\n        },\r\n        cachePolicy: {\r\n            type: String,\r\n            default: undefined,\r\n        },\r\n        watchVariables: {\r\n            type: Boolean,\r\n            default: true,\r\n        },\r\n        suspended: {\r\n            type: Boolean,\r\n            default: false,\r\n        },\r\n        fetchOnMount: {\r\n            type: Boolean,\r\n            default: true,\r\n        },\r\n    },\r\n    setup(props, ctx) {\r\n        function createRenderFn(api) {\r\n            const { data, error, isFetching, isDone, execute, watchVariables, isWatchingVariables, unwatchVariables } = api;\r\n            watch(toRef(props, 'watchVariables'), value => {\r\n                if (value === isWatchingVariables.value) {\r\n                    return;\r\n                }\r\n                if (value) {\r\n                    watchVariables();\r\n                    return;\r\n                }\r\n                unwatchVariables();\r\n            }, {\r\n                immediate: true,\r\n            });\r\n            return () => {\r\n                const slotProps = {\r\n                    data: data.value,\r\n                    error: error.value,\r\n                    isFetching: isFetching.value,\r\n                    isDone: isDone.value,\r\n                    execute,\r\n                };\r\n                return normalizeChildren(ctx, slotProps);\r\n            };\r\n        }\r\n        const opts = {\r\n            query: toRef(props, 'query'),\r\n            variables: toRef(props, 'variables'),\r\n            fetchOnMount: props.fetchOnMount,\r\n            cachePolicy: props.cachePolicy,\r\n        };\r\n        if (props.suspended) {\r\n            return useQuery(opts).then(createRenderFn);\r\n        }\r\n        return createRenderFn(useQuery(opts));\r\n    },\r\n});\r\nconst Query = QueryImpl;\n\nfunction useMutation(query, opts) {\r\n    const client = injectWithSelf(VILLUS_CLIENT, () => {\r\n        return new Error('Cannot detect villus Client, did you forget to call `useClient`?');\r\n    });\r\n    const data = ref(null);\r\n    const isFetching = ref(false);\r\n    const isDone = ref(false);\r\n    const error = ref(null);\r\n    // This is to prevent state mutation for racing requests, basically favoring the very last one\r\n    let lastPendingOperation;\r\n    async function execute(variables) {\r\n        isFetching.value = true;\r\n        const vars = variables || {};\r\n        const pendingExecution = client.executeMutation({\r\n            query,\r\n            variables: vars, // FIXME: fix this casting\r\n        }, unref(opts === null || opts === void 0 ? void 0 : opts.context));\r\n        lastPendingOperation = pendingExecution;\r\n        const res = await pendingExecution;\r\n        // Avoid state mutation if the pendingExecution isn't the last pending operation\r\n        if (pendingExecution !== lastPendingOperation) {\r\n            // we still return this result to preserve the integrity of \"execute\" calls\r\n            return { data: res.data, error: res.error };\r\n        }\r\n        data.value = res.data;\r\n        error.value = res.error;\r\n        isDone.value = true;\r\n        isFetching.value = false;\r\n        lastPendingOperation = undefined;\r\n        return { data: data.value, error: error.value };\r\n    }\r\n    return { data, isFetching, isDone, error, execute };\r\n}\n\nconst MutationImpl = defineComponent({\r\n    name: 'Mutation',\r\n    props: {\r\n        query: {\r\n            type: [String, Object],\r\n            required: true,\r\n        },\r\n    },\r\n    setup(props, ctx) {\r\n        const { data, isFetching, isDone, error, execute } = useMutation(props.query);\r\n        return () => {\r\n            return normalizeChildren(ctx, {\r\n                data: data.value,\r\n                isFetching: isFetching.value,\r\n                isDone: isDone.value,\r\n                error: error.value,\r\n                execute,\r\n            });\r\n        };\r\n    },\r\n});\r\nconst Mutation = MutationImpl;\n\nconst defaultReducer = (_, val) => val.data;\r\nfunction useSubscription({ query, variables, paused }, reduce = defaultReducer) {\r\n    const client = injectWithSelf(VILLUS_CLIENT, () => {\r\n        return new Error('Cannot detect villus Client, did you forget to call `useClient`?');\r\n    });\r\n    const data = ref(reduce(null, { data: null, error: null }));\r\n    const error = ref(null);\r\n    const isPaused = ref(paused || false);\r\n    function handleResponse(result) {\r\n        data.value = reduce(data.value, result);\r\n        error.value = result.error;\r\n    }\r\n    async function initObserver() {\r\n        isPaused.value = false;\r\n        const result = await client.executeSubscription({\r\n            query: unref(query),\r\n            variables: unref(variables),\r\n        });\r\n        return result.subscribe({\r\n            next(result) {\r\n                if (isPaused.value) {\r\n                    return;\r\n                }\r\n                const response = transformResult(result);\r\n                handleResponse(response);\r\n            },\r\n            // eslint-disable-next-line\r\n            complete() { },\r\n            error(err) {\r\n                if (isPaused.value) {\r\n                    return;\r\n                }\r\n                const response = { data: null, error: new CombinedError({ networkError: err, response: null }) };\r\n                return handleResponse(response);\r\n            },\r\n        });\r\n    }\r\n    let observer;\r\n    if (!paused) {\r\n        onMounted(async () => {\r\n            observer = await initObserver();\r\n        });\r\n    }\r\n    onBeforeUnmount(() => {\r\n        if (observer) {\r\n            observer.unsubscribe();\r\n        }\r\n    });\r\n    function pause() {\r\n        isPaused.value = true;\r\n    }\r\n    async function resume() {\r\n        if (!observer) {\r\n            reInit();\r\n        }\r\n        isPaused.value = false;\r\n    }\r\n    async function reInit() {\r\n        if (observer) {\r\n            observer.unsubscribe();\r\n        }\r\n        observer = await initObserver();\r\n    }\r\n    if (isRef(query)) {\r\n        watch(query, reInit);\r\n    }\r\n    if (isRef(variables)) {\r\n        watch(variables, reInit);\r\n    }\r\n    return { data, error, isPaused, pause, resume };\r\n}\r\n/**\r\n * Transforms the result from a standard operation result to villus result\r\n */\r\nfunction transformResult(result) {\r\n    if (!result.errors) {\r\n        return { data: result.data || null, error: null };\r\n    }\r\n    return {\r\n        data: result.data || null,\r\n        error: new CombinedError({ graphqlErrors: [...result.errors], response: null }),\r\n    };\r\n}\n\nconst SubscriptionImpl = defineComponent({\r\n    name: 'Subscription',\r\n    props: {\r\n        query: {\r\n            type: [String, Object],\r\n            required: true,\r\n        },\r\n        variables: {\r\n            type: Object,\r\n            default: null,\r\n        },\r\n        paused: {\r\n            type: Boolean,\r\n            default: false,\r\n        },\r\n        reduce: {\r\n            type: Function,\r\n            default: undefined,\r\n        },\r\n    },\r\n    setup(props, ctx) {\r\n        const { data, error, pause, isPaused, resume } = useSubscription({\r\n            query: props.query,\r\n            variables: props.variables,\r\n            paused: props.paused,\r\n        }, props.reduce || defaultReducer);\r\n        watch(toRef(props, 'paused'), value => {\r\n            if (value === isPaused.value) {\r\n                return;\r\n            }\r\n            if (value) {\r\n                pause();\r\n                return;\r\n            }\r\n            resume();\r\n        });\r\n        return () => {\r\n            const slotProps = {\r\n                data: data.value,\r\n                error: error.value,\r\n                pause,\r\n                isPaused: isPaused.value,\r\n                resume,\r\n            };\r\n            return normalizeChildren(ctx, slotProps);\r\n        };\r\n    },\r\n});\r\nconst Subscription = SubscriptionImpl;\n\nfunction handleSubscriptions(forwarder) {\r\n    const forward = forwarder;\r\n    return function subscriptionsHandlerPlugin({ operation, useResult }) {\r\n        if (operation.type !== 'subscription') {\r\n            return;\r\n        }\r\n        if (!forward) {\r\n            throw new Error('No subscription forwarder was set.');\r\n        }\r\n        useResult(forward(operation), true);\r\n    };\r\n}\n\nfunction definePlugin(fn) {\r\n    return fn;\r\n}\n\nexport { Client, CombinedError, Mutation, Provider, Query, Subscription, VILLUS_CLIENT, cache, createClient, dedup, defaultPlugins, definePlugin, fetch, getQueryKey, handleSubscriptions, useClient, useMutation, useQuery, useSubscription, withProvider };\n"]},"metadata":{},"sourceType":"module"}